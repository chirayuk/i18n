#!/usr/bin/env node

"use strict";

var assert = require("assert"),
    util = require("util"),
    fs = require("fs"),
    parse5 = require("parse5"),
    parseHtml = require("../lib/parse_html.js").parseHtml,
    parseMessages = require("../lib/parse_messages.js").parseMessages;


function extractMessagesFromHtmlFile(fname) {
  var html = fs.readFileSync(fname, {encoding: "utf-8"});
  var node = parseHtml(html);
  return parseMessages(node);
}



function main() {
  var SOURCE_HTML_FILENAME = "demo/index.html";
  var messagesMap = extractMessagesFromHtmlFile(SOURCE_HTML_FILENAME);
  console.log("%j", messagesMap);
}

main();
